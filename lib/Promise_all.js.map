{"version":3,"sources":["Promise_all.js"],"names":[],"mappings":"AAAA;;;;;;AAMA,SAAS,kBAAT,CAA4B,GAA5B,EAAiC;AAC7B,QAAI,MAAM,OAAN,CAAc,GAAd,CAAJ,EAAwB;AACpB,aAAK,IAAI,IAAI,CAAR,EAAW,OAAO,MAAM,IAAI,MAAV,CAAvB,EAA0C,IAAI,IAAI,MAAlD,EAA0D,GAA1D,EAA+D,KAAK,CAAL,IAAU,IAAI,CAAJ,CAAV,CAAiB,OAAO,IAAP;AACnF,KAFD,MAEO;AACH,eAAO,MAAM,IAAN,CAAW,GAAX,CAAP;AACH;AACJ;;AAED,IAAI,MAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,GAAV,CAAc,KAAK;AACzB,WAAO,IAAI,OAAJ,CAAY,CAAC,OAAD,EAAU,MAAV,KAAqB;AACpC,gBAAQ,CAAR;AACH,KAFM,CAAP;AAGH,CAJS,CAAV;AAKA,QAAQ,GAAR,CAAY,GAAZ,EAAiB,IAAjB,CAAsB,QAAQ;AAC1B,QAAI,QAAJ;;AAEA,KAAC,WAAW,OAAZ,EAAqB,GAArB,CAAyB,KAAzB,CAA+B,QAA/B,EAAyC,mBAAmB,IAAnB,CAAzC;AACH,CAJD,EAIG,KAJH,CAIS,OAAO;AACZ,YAAQ,GAAR,CAAY,GAAZ;AACH,CAND;;AAQA,QAAQ,SAAR,CAAkB,IAAlB,GAAyB,UAAU,WAAV,EAAuB,UAAvB,EAAmC;AACxD,SAAK,IAAL,CAAU,WAAV,EAAuB,UAAvB,EAAmC,KAAnC,CAAyC,UAAU,MAAV,EAAkB;AACvD,mBAAW,MAAM;AACb,kBAAM,MAAN;AACH,SAFD,EAEG,CAFH;AAGH,KAJD;AAKH,CAND;;AAQA,QAAQ,SAAR,CAAkB,OAAlB,GAA4B,UAAU,QAAV,EAAoB;AAC5C,QAAI,IAAI,KAAK,WAAb;AACA,SAAK,IAAL,CAAU,UAAU,KAAV,EAAiB;AACvB,eAAO,EAAE,OAAF,CAAU,UAAV,EAAsB,IAAtB,CAA2B,YAAY;AAC1C,mBAAO,KAAP;AACH,SAFM,CAAP;AAGH,KAJD,EAIG,UAAU,MAAV,EAAkB;AACjB,eAAO,EAAE,OAAF,CAAU,UAAV,EAAsB,IAAtB,CAA2B,YAAY;AAC1C,kBAAM,MAAN;AACH,SAFM,CAAP;AAGH,KARD;AASH,CAXD;AAYA,QAAQ,SAAR,CAAkB,OAAlB,GAA4B,UAAU,QAAV,EAAoB;AAC5C,QAAI,IAAI,KAAK,WAAb;AACA,WAAO,KAAK,IAAL,CAAU,SAAS,EAAE,OAAF,CAAU,UAAV,EAAsB,IAAtB,CAA2B,MAAM,KAAjC,CAAnB,EAA4D,UAAU,EAAE,OAAF,CAAU,UAAV,EAAsB,IAAtB,CAA2B,MAAM;AAC1G,cAAM,MAAN;AACH,KAF4E,CAAtE,CAAP;AAGH,CALD;AAMA,IAAI,OAAJ,CAAY,CAAC,OAAD,EAAU,MAAV,KAAqB;AAC7B,eAAW,MAAM,QAAQ,CAAR,CAAjB,EAA6B,CAA7B;AACH,CAFD,EAEG,OAFH,CAEW,OAAO;AACd,YAAQ,GAAR,CAAY,GAAZ;AACH,CAJD","file":"Promise_all.js","sourcesContent":["\"use strict\";\n\n/**\n * Created by yingchun.fyc@alibaba-inc.com on 16/7/13.\n */\n\nfunction _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];return arr2;\n    } else {\n        return Array.from(arr);\n    }\n}\n\nlet arr = [1, 2, 3].map(v => {\n    return new Promise((resolve, reject) => {\n        resolve(v);\n    });\n});\nPromise.all(arr).then(args => {\n    var _console;\n\n    (_console = console).log.apply(_console, _toConsumableArray(args));\n}).catch(err => {\n    console.log(err);\n});\n\nPromise.prototype.done = function (onFulfilled, onRejected) {\n    this.then(onFulfilled, onRejected).catch(function (reason) {\n        setTimeout(() => {\n            throw reason;\n        }, 0);\n    });\n};\n\nPromise.prototype.finally = function (callback) {\n    let P = this.constructor;\n    this.then(function (value) {\n        return P.resolve(callback()).then(function () {\n            return value;\n        });\n    }, function (reason) {\n        return P.resolve(callback()).then(function () {\n            throw reason;\n        });\n    });\n};\nPromise.prototype.finally = function (callback) {\n    let P = this.constructor;\n    return this.then(value => P.resolve(callback()).then(() => value), reason => P.resolve(callback()).then(() => {\n        throw reason;\n    }));\n};\nnew Promise((resolve, reject) => {\n    setTimeout(() => resolve(1), 0);\n}).finally(res => {\n    console.log(res);\n});\n\n//# sourceMappingURL=Promise_all.js.map\n\n//# sourceMappingURL=Promise_all.js.map\n\n//# sourceMappingURL=Promise_all.js.map\n\n//# sourceMappingURL=Promise_all.js.map"]}