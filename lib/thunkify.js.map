{"version":3,"sources":["thunkify.js"],"names":[],"mappings":"AAAA;;;;;;AAMA,SAAS,EAAT,CAAY,SAAZ,EAAuB;AACnB,QAAI,MAAM,WAAV;;AAEA,aAAS,GAAT,CAAa,GAAb,EAAkB,IAAlB,EAAwB;AACpB,YAAI,GAAJ,EAAS,MAAM,GAAN;AACT,YAAI,SAAS,IAAI,IAAJ,CAAS,IAAT,CAAb;AACA,YAAI,OAAO,IAAX,EAAiB;AACjB,eAAO,KAAP,CAAa,GAAb;AACH;AACD,QAAI,IAAJ,GAAW,KAAX,CAAiB,GAAjB;AACH;AACD,GAAG,aAAa;AACZ,QAAI,KAAK,MAAM,UAAU,QAAV,EAAoB;AAC/B,mBAAW,YAAY;AACnB,qBAAS,IAAT,EAAe,CAAf;AACH,SAFD,EAEG,GAFH;AAGH,KAJD;AAKA,YAAQ,GAAR,CAAY,EAAZ;AACH,CAPD;;AASA,SAAS,QAAT,CAAkB,EAAlB,EAAsB;AAClB,WAAO,YAAY;AACf,YAAI,OAAO,GAAG,KAAH,CAAS,IAAT,CAAc,SAAd,CAAX;AACA,eAAO,UAAU,QAAV,EAAoB;AACvB,iBAAK,IAAL,CAAU,QAAV;AACA,eAAG,KAAH,CAAS,IAAT,EAAe,IAAf;AACH,SAHD;AAIH,KAND;AAOH;;AAED,SAAS,UAAT,CAAoB,IAApB,EAA0B,QAA1B,EAAoC;AAChC,eAAW,YAAY;AACnB,iBAAS,IAAT,EAAe,OAAO,CAAtB;AACH,KAFD,EAEG,GAFH;;;;;;;AASH;AACD,GAAG,aAAa;AACZ,QAAI,KAAK,MAAM,SAAS,UAAU,QAAV,EAAoB;AACxC,mBAAW,MAAM,SAAS,IAAT,EAAe,CAAf,CAAjB,EAAoC,GAApC;AACH,KAFc,GAAf;AAGA,QAAI,KAAK,MAAM,SAAS,UAAT,EAAqB,EAArB,CAAf;AACA,YAAQ,GAAR,CAAY,EAAZ;AACH,CAND","file":"thunkify.js","sourcesContent":["\"use strict\";\n\n/**\n * Created by yingchun.fyc@alibaba-inc.com on 16/7/23.\n */\n\nfunction co(generator) {\n    var itr = generator();\n\n    function run(err, data) {\n        if (err) throw err;\n        var result = itr.next(data);\n        if (result.done) return;\n        result.value(run);\n    }\n    itr.next().value(run);\n}\nco(function* () {\n    var v1 = yield function (callback) {\n        setTimeout(function () {\n            callback(null, 2);\n        }, 100);\n    };\n    console.log(v1);\n});\n\nfunction thunkify(fn) {\n    return function () {\n        var args = [].slice.call(arguments);\n        return function (callback) {\n            args.push(callback);\n            fn.apply(null, args);\n        };\n    };\n}\n\nfunction obtainData(opts, callback) {\n    setTimeout(function () {\n        callback(null, opts + 1);\n    }, 100);\n    //$.ajax({\n    //    url:'',\n    //    success: function(err, data){\n    //        callback(err, data)\n    //    }\n    //})\n}\nco(function* () {\n    var v1 = yield thunkify(function (callback) {\n        setTimeout(() => callback(null, 1), 100);\n    })();\n    var v2 = yield thunkify(obtainData)(v1);\n    console.log(v2);\n});\n\n//# sourceMappingURL=thunkify.js.map\n\n//# sourceMappingURL=thunkify.js.map\n\n//# sourceMappingURL=thunkify.js.map\n\n//# sourceMappingURL=thunkify.js.map"]}