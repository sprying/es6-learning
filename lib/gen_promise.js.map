{"version":3,"sources":["gen_promise.js"],"names":[],"mappings":"AAAA;;AAEA,SAAS,EAAT,CAAY,SAAZ,EAAuB;AACnB,QAAI,WAAW,WAAf;AACA,aAAS,EAAT,CAAY,MAAZ,EAAoB;AAChB,YAAI,OAAO,IAAX,EAAiB;AACjB,eAAO,KAAP,CAAa,IAAb,CAAkB,UAAU,IAAV,EAAgB;AAC9B,eAAG,SAAS,IAAT,CAAc,IAAd,CAAH;AACH,SAFD;AAGH;AACD,OAAG,SAAS,IAAT,EAAH;AACH;AACD,GAAG,aAAa;AACZ,QAAI,KAAK,IAAI,OAAJ,CAAY,CAAC,OAAD,EAAU,MAAV,KAAqB;AACtC,mBAAW,MAAM,QAAQ,CAAR,CAAjB,EAA6B,GAA7B;AACH,KAFQ,CAAT;AAGA,QAAI,KAAK,MAAM,EAAf;AACA,YAAQ,GAAR,CAAY,EAAZ;AACH,CAND;;AAQA,SAAS,GAAT,CAAa,SAAb,EAAwB;AACpB,QAAI,KAAK,WAAT;;AAEA,aAAS,EAAT,CAAY,MAAZ,EAAoB;AAChB,YAAI,OAAO,IAAX,EAAiB,OAAO,OAAO,KAAd;;AAEjB,eAAO,OAAO,KAAP,CAAa,IAAb,CAAkB,UAAU,KAAV,EAAiB;AACtC,mBAAO,GAAG,GAAG,IAAH,CAAQ,KAAR,CAAH,CAAP;AACH,SAFM,EAEJ,UAAU,KAAV,EAAiB;AAChB,mBAAO,GAAG,GAAG,KAAH,CAAS,KAAT,CAAH,CAAP;AACH,SAJM,CAAP;AAKH;;AAED,OAAG,GAAG,IAAH,EAAH;AACH;AACD,IAAI,MAAM,IAAI,aAAa;AACvB,QAAI,KAAK,IAAI,OAAJ,CAAY,CAAC,OAAD,EAAU,MAAV,KAAqB;AACtC,mBAAW,MAAM,QAAQ,CAAR,CAAjB,EAA6B,GAA7B;AACH,KAFQ,CAAT;AAGA,QAAI,KAAK,IAAI,OAAJ,CAAY,CAAC,OAAD,EAAU,MAAV,KAAqB;AACtC,mBAAW,MAAM,QAAQ,CAAR,CAAjB,EAA6B,GAA7B;AACH,KAFQ,CAAT;AAGA,QAAI,QAAQ,MAAM,EAAlB;AACA,QAAI,QAAQ,MAAM,EAAlB;AACA,YAAQ,GAAR,CAAY,QAAQ,IAAR,GAAe,KAA3B;AACA,WAAO,QAAQ,KAAf;AACH,CAXS,CAAV;AAYA,QAAQ,GAAR,CAAY,GAAZ","file":"gen_promise.js","sourcesContent":["'use strict';\n\nfunction co(generator) {\n    var iterator = generator();\n    function go(result) {\n        if (result.done) return;\n        result.value.then(function (data) {\n            go(iterator.next(data));\n        });\n    }\n    go(iterator.next());\n}\nco(function* () {\n    var p1 = new Promise((resolve, reject) => {\n        setTimeout(() => resolve(1), 100);\n    });\n    var v1 = yield p1;\n    console.log(v1);\n});\n\nfunction run(generator) {\n    var it = generator();\n\n    function go(result) {\n        if (result.done) return result.value;\n\n        return result.value.then(function (value) {\n            return go(it.next(value));\n        }, function (error) {\n            return go(it.throw(error));\n        });\n    }\n\n    go(it.next());\n}\nvar res = run(function* () {\n    var p1 = new Promise((resolve, reject) => {\n        setTimeout(() => resolve(1), 200);\n    });\n    var p2 = new Promise((resolve, reject) => {\n        setTimeout(() => resolve(2), 100);\n    });\n    var data1 = yield p1;\n    var data2 = yield p2;\n    console.log(data1 + ', ' + data2);\n    return data1 + data2;\n});\nconsole.log(res);\n\n//# sourceMappingURL=gen_promise.js.map\n\n//# sourceMappingURL=gen_promise.js.map\n\n//# sourceMappingURL=gen_promise.js.map\n\n//# sourceMappingURL=gen_promise.js.map"]}